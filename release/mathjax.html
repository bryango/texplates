<!-- mathjax for local use -->

<div class="mathjax_macros" style="display: none;">
$ % Simple macros / shorthands for LaTeX,
% ... compatible with MathJax
% ... loaded before 'mathjax.tex'
%
% Generics
\newcommand{\mbb}[1]{\mathbb{#1}}%#m
\newcommand{\mrm}[1]{\mathrm{#1}}%#m
\newcommand{\mcal}[1]{\mathcal{#1}}%#m
\newcommand{\mscr}[1]{\mathscr{#1}}%#m
\newcommand{\mfrak}[1]{\mathfrak{#1}}%#m
\newcommand{\tup}[1]{\textup{#1}}
\newcommand{\mop}[1]{\operatorname{#1}}%#m
%
% Utils
\newcommand{\idty}{\mathds{1}}%#m
\newcommand{\proj}[1]{\mop{proj_{\mathit{#1}}}}%#m
\newcommand{\textbox}[1]{\fbox{#1}}
\newcommand{\rvec}[1]{\overrightarrow{#1}}%#m
\newcommand{\lvec}[1]{\overleftarrow{#1}}%#m
\newcommand{\sidenote}[1]{\textcolor{purple}{#1}}
\newcommand{\mquote}[1]{\text{``$#1$''}}
\newcommand{\thinmspace}[1][.5]{\mspace{#1\thinmuskip}}%#m
\newcommand{\moppower}[2]{\mop{ {#1}^{#2} }\!}%#m
\newcommand{\needcites}{\sidenote{\texttt{\small[\,citations needed\,]}}}
%
% Physics
\newcommand{\DD}[1]{\mathinner{\mscr{D}{#1}}}%#m
\newcommand{\normorder}[1]{%#m
	\mspace{.2\thinmuskip}%
	{\mathopen {:}}%
	{\mspace{.8\thinmuskip}#1\mspace{.8\thinmuskip}}%
	{\mathclose {:}}%
	\mspace{.5\thinmuskip}%
}
%
% Differential Geometry
\newcommand{\hodgedual}{\mop{\star}}%#m
\newcommand{\hstar}{\mop{\star}}%#m
\newcommand{\cdd}{\mop{D}\!}%#m
\newcommand{\pdd}[1]{\partial_{#1}}%#m
\newcommand{\cdv}[1]{\nabla_{\!\mathnormal{#1}}}%#m
\newcommand{\ldv}[1]{\mcal{L}_{\mathnormal{#1}}}%#m
\newcommand{\ric}[1]{\mop{Ric}\pqty{#1}}%#m
\newcommand{\ad}{\mop{ad}}%#m
\newcommand{\pd}{\partial}%#m
\newcommand{\pdbar}{\bar{\partial}}%#m
%
% Algebra
\newcommand{\subsetnormal}{\mathrel{\triangleleft}}%#m
\newcommand{\Hom}{\mop{Hom}}%#m
\newcommand{\To}{\Rightarrow}%#m
\newcommand{\longto}{\longrightarrow}%#m
\newcommand{\Longto}{\Longrightarrow}%#m
%
% QED
\newcommand{\qednow}[1][]{\hfill\ensuremath{ %
    \square\mathrlap{_{\,#1}}%
}}
\newcommand{\qedfull}[1][]{\hfill\ensuremath{ %
    \blacksquare\mathrlap{_{\,#1}}%
}}
% MathJax supplementary macros,
% ... as substitutes for LaTeX pkgs,
% ... loaded after 'macros.tex'
%
% mathtools
\newcommand{\abs}[1]{\left|#1\right|}
\newcommand{\norm}[1]{\left\|#1\right\|}
\newcommand{\aqty}[1]{\left\langle#1\right\rangle}
\let\ave\aqty
%
% physics
\newcommand{\pqty}[1]{\left(#1\right)}
\newcommand{\dd}[2][]{\mathinner{\mathrm{d}^{#1}#2}}
\newcommand{\dv}[2]{\frac{\dd{#1}}{\dd{#2}}}
\newcommand{\pdv}[2]{\frac{\partial{#1}}{\partial{#2}}}
\newcommand{\var}[1]{\mathinner{\delta #1}}
\newcommand{\order}[1]{\mcal{O}\pqty{#1}}
%
% more & hacks
\newcommand{\mathds}[1]{\mathbf{#1}} % when without dsfont
\newcommand{\mathnormal}[1]{\mathit{#1}} % when without mathnormal $
</div>
